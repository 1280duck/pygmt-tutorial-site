<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>sheen 的 PyGMT 教學站 | 互動式首頁</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- 共用樣式 -->
  <link rel="stylesheet" href="style.css" />
  <!-- 首頁額外的小樣式 -->
  <style>
    .hero-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-top: 1rem;
    }
    .btn-pill {
      border: none;
      border-radius: 999px;
      padding: 0.6rem 1.2rem;
      font-size: 0.95rem;
      cursor: pointer;
    }
    .btn-primary {
      background: #6366f1;
      color: #f9fafb;
    }
    .btn-ghost {
      background: #ffffff;
      color: #111827;
      border: 1px solid #e5e7eb;
    }
    .btn-primary:hover,
    .btn-ghost:hover {
      opacity: 0.9;
    }

    /* Tab 區塊 */
    .tab-buttons {
      display: inline-flex;
      border-radius: 999px;
      background: #e5e7eb;
      padding: 0.2rem;
      margin-bottom: 1rem;
    }
    .tab-btn {
      border: none;
      background: transparent;
      padding: 0.4rem 1.2rem;
      border-radius: 999px;
      cursor: pointer;
      font-size: 0.9rem;
      color: #4b5563;
    }
    .tab-btn.tab-active {
      background: #111827;
      color: #f9fafb;
    }
    .tab-panel {
      display: none;
      margin-top: 0.5rem;
    }
    .tab-panel.active {
      display: block;
    }

    /* 小抄區塊 */
    .cheatsheet-layout {
      display: grid;
      grid-template-columns: minmax(0, 1.1fr) minmax(0, 1.4fr);
      gap: 1rem;
    }
    @media (max-width: 768px) {
      .cheatsheet-layout {
        grid-template-columns: 1fr;
      }
    }
    .cheat-buttons {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }
    .cheat-btn {
      text-align: left;
      border-radius: 0.75rem;
      border: 1px solid #e5e7eb;
      padding: 0.6rem 0.8rem;
      background: #ffffff;
      cursor: pointer;
      font-size: 0.9rem;
    }
    .cheat-btn.active {
      border-color: #6366f1;
      box-shadow: 0 0 0 1px #6366f1;
      background: #eef2ff;
    }
    .preview-box {
      margin-top: 0.25rem;
      padding: 1rem;
      border-radius: 0.75rem;
      background: #0f172a;
      color: #e5e7eb;
      font-family: "SF Mono", Menlo, Monaco, Consolas, monospace;
      font-size: 0.85rem;
      white-space: pre-wrap;
      overflow-x: auto;
    }
    .badge {
      display: inline-block;
      padding: 0.1rem 0.5rem;
      border-radius: 999px;
      background: #dbeafe;
      color: #1d4ed8;
      font-size: 0.75rem;
      margin-left: 0.35rem;
    }

    /* 測驗區 */
    .quiz-question {
      margin-bottom: 1rem;
      padding-bottom: 0.5rem;
      border-bottom: 1px dashed #e5e7eb;
    }
    .quiz-question p {
      margin: 0 0 0.35rem 0;
      font-weight: 600;
    }
    .quiz-option {
      display: block;
      font-size: 0.9rem;
      margin-bottom: 0.15rem;
    }
    .quiz-feedback {
      font-size: 0.85rem;
      margin-top: 0.15rem;
    }
    .quiz-correct {
      color: #16a34a;
    }
    .quiz-wrong {
      color: #b91c1c;
    }

    /* 圖片展示區 */
    .image-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 1rem;
      margin-top: 0.75rem;
    }
    .image-card {
      background: #ffffff;
      border-radius: 0.75rem;
      box-shadow: 0 4px 10px rgba(15, 23, 42, 0.06);
      overflow: hidden;
      border: 1px solid #e5e7eb;
    }
    .image-card img {
      width: 100%;
      display: block;
    }
    .image-card figcaption {
      padding: 0.6rem 0.9rem;
      font-size: 0.85rem;
      color: #4b5563;
    }
  </style>
</head>
<body>
<header class="site-header">
  <h1>sheen 的 PyGMT 教學站</h1>
  <p>從 0 到畫出漂亮地圖：基礎篇 ＋ 進階篇 ＋ 指令小抄 ＋ 小測驗</p>
</header>

<nav class="navbar">
  <a href="#intro">簡介</a>
  <a href="#courses">章節</a>
  <a href="#cheatsheet">指令小抄</a>
  <a href="#quiz">PyGMT 測驗</a>
  <a href="#gallery">圖片</a>
  <a href="#refs">參考文獻</a>
</nav>

<main class="content">
  <!-- 簡介 -->
  <section id="intro" class="card">
    <h2>1. PyGMT / GMT 是什麼？</h2>
    <p>
      GMT（Generic Mapping Tools）是一套專門用來做科學繪圖與地圖製作的開源工具，
      PyGMT 則是 GMT 的 Python 介面，讓你可以在 Jupyter / Python 環境裡直接畫出各種地圖：
      地形、海深、火山、地震分布，以及一般 2D 圖表。
    </p>
    <p>
      這個網站整理 sheen 自己學 PyGMT 的筆記：
      上面有安裝教學、基礎語法、實際案例，還有一份可以快速複製的指令小抄，
      以及一個小小的 PyGMT 測驗，看看自己吸收了多少。
    </p>

    <div class="hero-buttons">
      <a href="#courses">
        <button class="btn-pill btn-primary">
          從基礎篇開始 ➜
        </button>
      </a>
      <a href="#quiz">
        <button class="btn-pill btn-ghost">
          直接去做 PyGMT 小測驗
        </button>
      </a>
    </div>
  </section>

  <!-- 章節：基礎 / 進階 Tab 切換 -->
  <section id="courses" class="card">
    <h2>2. 章節一覽</h2>
    <p>
      先選擇你要看的系列，再點右邊連結進去看詳細說明與程式碼。
    </p>

    <div class="tab-buttons">
      <button id="tab-basic" class="tab-btn tab-active">基礎篇</button>
      <button id="tab-adv" class="tab-btn">進階篇</button>
    </div>

    <!-- 基礎篇 -->
    <div id="panel-basic" class="tab-panel active">
      <ol>
        <li>
          <a href="basics/01_first_map.html">基礎 1：第一張世界地圖</a>
          <span class="badge">coast + 投影</span>
        </li>
        <li>
          <a href="basics/02_region_map.html">基礎 2：區域地圖</a>
          <span class="badge">region + 經緯度</span>
        </li>
        <li>
          <a href="basics/03_relief_map.html">基礎 3：地形 / 海深色階圖</a>
          <span class="badge">grdimage + colorbar</span>
        </li>
      </ol>
      <p class="note">
        建議照順序把基礎篇跑過一次，熟悉 Figure、coast、projection、region 的用法。
      </p>
    </div>

    <!-- 進階篇 -->
    <div id="panel-adv" class="tab-panel">
      <ol>
        <li>
          <a href="advanced/01_taiwan_relief.html">進階 1：台灣地形陰影圖</a>
          <span class="badge">高解析地形</span>
        </li>
        <li>
          <a href="advanced/02_subplots_proj.html">進階 2：多投影子圖</a>
          <span class="badge">subplot</span>
        </li>
        <li>
          <a href="advanced/03_timeseries_plot.html">進階 3：時間序列折線圖</a>
          <span class="badge">一般 2D 圖</span>
        </li>
      </ol>
      <p class="note">
        進階篇比較偏「實戰」：台灣區域、比較不同投影、搭配時間序列等，
        很適合拿去做作業報告或期末專題的圖。
      </p>
    </div>
  </section>

  <!-- 指令小抄互動區 -->
  <section id="cheatsheet" class="card">
    <h2>3. 互動式指令小抄</h2>
    <p>
      點左邊的按鈕，右邊會顯示對應的指令或範例程式碼，可以直接複製貼到終端機或 Python 中使用。
    </p>

    <div class="cheatsheet-layout">
      <div class="cheat-buttons">
        <button class="cheat-btn active" data-key="conda">
          conda 安裝 PyGMT 環境
        </button>
        <button class="cheat-btn" data-key="check">
          檢查 PyGMT / GMT 版本
        </button>
        <button class="cheat-btn" data-key="world">
          畫第一張世界地圖（PyGMT）
        </button>
        <button class="cheat-btn" data-key="taiwan">
          畫台灣地形陰影圖（PyGMT）
        </button>
      </div>

      <div>
        <div id="cheatTitle" style="font-weight:600; margin-bottom:0.3rem;">
          conda 安裝 PyGMT 環境
        </div>
        <div id="cheatBox" class="preview-box">
conda config --prepend channels conda-forge
conda create --name mygmt python=3.9 numpy pandas xarray netcdf4 packaging pygmt
conda activate mygmt
        </div>
      </div>
    </div>
  </section>

  <!-- PyGMT 小測驗 -->
  <section id="quiz" class="card">
    <h2>4. PyGMT 小測驗</h2>
    <p>
      簡單四題，測測看你對 PyGMT / GMT 的基本概念還記得多少。
    </p>

    <form id="quizForm">
      <div class="quiz-question" data-qid="q1">
        <p>Q1. PyGMT 主要拿來做什麼？</p>
        <label class="quiz-option">
          <input type="radio" name="q1" value="A" /> A. 剪輯影片和做動畫
        </label>
        <label class="quiz-option">
          <input type="radio" name="q1" value="B" /> B. 科學繪圖與地圖製作
        </label>
        <label class="quiz-option">
          <input type="radio" name="q1" value="C" /> C. 訓練深度學習模型
        </label>
        <div id="feedback-q1" class="quiz-feedback"></div>
      </div>

      <div class="quiz-question" data-qid="q2">
        <p>Q2. 在 PyGMT 中，<code>region="g"</code> 代表什麼？</p>
        <label class="quiz-option">
          <input type="radio" name="q2" value="A" /> A. 台灣附近區域
        </label>
        <label class="quiz-option">
          <input type="radio" name="q2" value="B" /> B. 全球（global）
        </label>
        <label class="quiz-option">
          <input type="radio" name="q2" value="C" /> C. 只畫海洋，不畫陸地
        </label>
        <div id="feedback-q2" class="quiz-feedback"></div>
      </div>

      <div class="quiz-question" data-qid="q3">
        <p>Q3. 想載入全球地形 / 海深資料時，常用哪一個函式？</p>
        <label class="quiz-option">
          <input type="radio" name="q3" value="A" /> A. <code>load_earth_relief()</code>
        </label>
        <label class="quiz-option">
          <input type="radio" name="q3" value="B" /> B. <code>load_ocean_only()</code>
        </label>
        <label class="quiz-option">
          <input type="radio" name="q3" value="C" /> C. <code>load_topography_3d()</code>
        </label>
        <div id="feedback-q3" class="quiz-feedback"></div>
      </div>

      <div class="quiz-question" data-qid="q4">
        <p>Q4. 用 conda 安裝 PyGMT 時，通常建議把哪個 channel 設成優先？</p>
        <label class="quiz-option">
          <input type="radio" name="q4" value="A" /> A. defaults
        </label>
        <label class="quiz-option">
          <input type="radio" name="q4" value="B" /> B. conda-forge
        </label>
        <label class="quiz-option">
          <input type="radio" name="q4" value="C" /> C. pytorch
        </label>
        <div id="feedback-q4" class="quiz-feedback"></div>
      </div>

      <button type="button" id="quizSubmit" class="btn-pill btn-primary">
        交卷看看成績
      </button>
      <span id="quizResult" style="margin-left:0.6rem; font-weight:600;"></span>
    </form>
  </section>

  <!-- 圖片展示區 -->
  <section id="gallery" class="card">
    <h2>5. PyGMT 圖片展示</h2>
    <p>
      這裡可以放你用 PyGMT 畫出來的成品圖。現在先放幾張示意，
      之後 sheen 可以把自己產出的 PNG 檔放到 <code>assets/</code> 資料夾，
      再改這些圖片路徑就好。
    </p>

    <div class="image-grid">
      <figure class="image-card">
        <img src="assets/world_map_example.png" alt="世界地圖示意（請用自己產出的圖取代）" />
        <figcaption>示意：世界海岸線地圖（coast + 全球投影）</figcaption>
      </figure>
      <figure class="image-card">
        <img src="assets/taiwan_relief_example.png" alt="台灣地形陰影圖示意" />
        <figcaption>示意：台灣地形陰影圖（高解析 load_earth_relief + grdimage）</figcaption>
      </figure>
      <figure class="image-card">
        <img src="assets/subplots_example.png" alt="多投影子圖示意" />
        <figcaption>示意：多投影子圖（subplot + 不同投影比較）</figcaption>
      </figure>
    </div>
  </section>

  <!-- 參考文獻 -->
  <section id="refs" class="card">
    <h2>6. 參考文獻（建議引用）</h2>
    <ol>
      <li>Wessel, P., &amp; Smith, W. H. F. (1991). Free software helps map and display data. <em>EOS Trans. AGU</em>, 72(41), 445–446.</li>
      <li>Wessel, P., Luis, J., Uieda, L., Scharroo, R., Wobbe, F., Smith, W. H. F., &amp; Tian, D. (2019). The Generic Mapping Tools Version 6. <em>Geochemistry, Geophysics, Geosystems</em>, 20.</li>
      <li>Uieda, L., Tian, D., Leong, W. J., Jones, M., 等 (2022). PyGMT: A Python interface for the Generic Mapping Tools.</li>
    </ol>
    <p class="note">
      本網站內容參考並改寫自 GMT / PyGMT 官方文件與教學手冊，並搭配 sheen 自己的實作範例整理。
    </p>
  </section>
</main>

<footer class="site-footer">
  <p>製作：sheen 的 PyGMT 教學筆記 | GitHub Pages 互動式版</p>
</footer>

<!-- 首頁互動邏輯 -->
<script>
  // 1. 基礎篇 / 進階篇 Tab
  const tabBasic = document.getElementById("tab-basic");
  const tabAdv = document.getElementById("tab-adv");
  const panelBasic = document.getElementById("panel-basic");
  const panelAdv = document.getElementById("panel-adv");

  function setTab(active) {
    if (active === "basic") {
      tabBasic.classList.add("tab-active");
      tabAdv.classList.remove("tab-active");
      panelBasic.classList.add("active");
      panelAdv.classList.remove("active");
    } else {
      tabBasic.classList.remove("tab-active");
      tabAdv.classList.add("tab-active");
      panelBasic.classList.remove("active");
      panelAdv.classList.add("active");
    }
  }

  tabBasic.addEventListener("click", () => setTab("basic"));
  tabAdv.addEventListener("click", () => setTab("adv"));

  // 2. 指令小抄切換
  const cheatButtons = document.querySelectorAll(".cheat-btn");
  const cheatBox = document.getElementById("cheatBox");
  const cheatTitle = document.getElementById("cheatTitle");

  const cheats = {
    conda: {
      title: "conda 安裝 PyGMT 環境",
      text: `conda config --prepend channels conda-forge
conda create --name mygmt python=3.9 numpy pandas xarray netcdf4 packaging pygmt
conda activate mygmt`
    },
    check: {
      title: "檢查 PyGMT / GMT 版本",
      text: `import pygmt
pygmt.show_versions()  # 列出 PyGMT、GMT 與依賴套件版本`
    },
    world: {
      title: "畫第一張世界地圖（PyGMT）",
      text: `import pygmt

fig = pygmt.Figure()
fig.coast(
    region="g",
    projection="H0/15c",
    frame="afg",
    land="lightgray",
    water="white",
    shorelines="1p,black",
)
fig.show()`
    },
    taiwan: {
      title: "畫台灣地形陰影圖（PyGMT）",
      text: `import pygmt
from pygmt.datasets import load_earth_relief

region = [118, 123.5, 20, 26]
grid = load_earth_relief(
    resolution="15s",
    region=region,
    registration="gridline",
)

fig = pygmt.Figure()
fig.grdimage(
    grid=grid,
    region=region,
    projection="M12c",
    frame=["af", "+tTaiwan relief"],
    cmap="geo",
    shading=True,
)
fig.coast(region=region, projection="M12c", shorelines="1p,black")
fig.colorbar(frame=["a1000", "+L高度/深度 (m)"])
fig.show()`
    }
  };

  cheatButtons.forEach(btn => {
    btn.addEventListener("click", () => {
      cheatButtons.forEach(b => b.classList.remove("active"));
      btn.classList.add("active");
      const key = btn.dataset.key;
      cheatTitle.textContent = cheats[key].title;
      cheatBox.textContent = cheats[key].text;
    });
  });

  // 3. PyGMT 小測驗
  const quizBtn = document.getElementById("quizSubmit");
  const quizResult = document.getElementById("quizResult");

  const answerKey = {
    q1: "B",
    q2: "B",
    q3: "A",
    q4: "B",
  };

  quizBtn.addEventListener("click", () => {
    let score = 0;
    let total = Object.keys(answerKey).length;
    let unanswered = 0;

    // 清空舊 feedback
    Object.keys(answerKey).forEach(qid => {
      const fb = document.getElementById(`feedback-${qid}`);
      if (fb) {
        fb.textContent = "";
        fb.classList.remove("quiz-correct", "quiz-wrong");
      }
    });

    Object.entries(answerKey).forEach(([qid, correct]) => {
      const selected = document.querySelector(`input[name="${qid}"]:checked`);
      const fb = document.getElementById(`feedback-${qid}`);
      if (!selected) {
        unanswered += 1;
        if (fb) {
          fb.textContent = "這題還沒作答喔。";
        }
        return;
      }
      if (selected.value === correct) {
        score += 1;
        if (fb) {
          fb.textContent = "✔ 答對了！";
          fb.classList.add("quiz-correct");
        }
      } else {
        if (fb) {
          fb.textContent = `✘ 答錯了，正確答案是 ${correct}。`;
          fb.classList.add("quiz-wrong");
        }
      }
    });

    if (unanswered > 0) {
      quizResult.textContent = `先把所有題目作完吧～目前已作答 ${total - unanswered} / ${total} 題。`;
    } else {
      quizResult.textContent = `你的得分：${score} / ${total}`;
    }
  });
</script>
</body>
</html>
